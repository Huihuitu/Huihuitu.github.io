<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{ margin:0; padding:0; list-style:none; font-family: "微软雅黑","张海山锐线体简"}
body{background:#000;}
#div{ width:800px;height:600px; position:relative; margin:50px auto;background:#222;}
#div ul{width:10000px;position:absolute;top:200px;}
#div ul li{width:200px; height:200px;float:left;}
#div ul li img{width:200px;height:200px;position:relative;border:5px solid #57A2D8;}
</style>
<script>
window.onload=function(){
	var oDiv=document.getElementById('div');	
	var oUl=oDiv.children[0];
	var aLi=oUl.getElementsByTagName('li');
	var aImg=oUl.getElementsByTagName('img');
	
	oUl.onmousedown=function(ev){
		var e=ev||event;
		var disX=e.clientX-oUl.offsetLeft;
		document.onmousemove=function(ev){
			var e=ev||event;
			var l=e.clientX-disX;
			if(l>oDiv.offsetWidth/2-(0+0.5)*aLi[0].offsetWidth){
				l=oDiv.offsetWidth/2-(0+0.5)*aLi[0].offsetWidth;
			}
			if(l<oDiv.offsetWidth/2-(aLi.length-1+0.5)*aLi[0].offsetWidth){
				l=oDiv.offsetWidth/2-(aLi.length-1+0.5)*aLi[0].offsetWidth;
			}	
			oUl.style.left=l+'px';
			down();
		}
		document.onmouseup = function(){
			document.onmouseup = document.onmousemove =  null;	
		}
		return false;
	}
	 set(5)
	function set(n){
		oUl.style.left=oDiv.offsetWidth/2-(n+0.5)*aLi[0].offsetWidth;
	}
	
	down()
	function down(){
		for(var i=0;i<aLi.length;i++){
			var dis=oDiv.offsetWidth/2-(oUl.offsetLeft+aLi[i].offsetLeft+aLi[i].offsetWidth/2);
			dis=Math.abs(dis);
				
			var scale=1-dis/800;
			if(scale<0.5) scale=0.5;
			
			aImg[i].style.width=500*scale+'px';
			aImg[i].style.height=500*scale+'px';
			aImg[i].style.marginTop=-(aImg[i].offsetHeight-aLi[i].offsetHeight)/2+'px';
			aImg[i].style.marginLeft=-(aImg[i].offsetWidth-aLi[i].offsetWidth)/2+'px';
			aImg[i].style.opacity=scale;
			aImg[i].style.zIndex=scale*10000;
		}
	}
}

</script>
</head>

<body>
<div id="div">
    <ul>
    	<li><img src="img/0.jpg"/></li>
    	<li><img src="img/1.jpg"/></li>
        <li><img src="img/2.jpg"/></li>
        <li><img src="img/3.jpg"/></li>
        <li><img src="img/4.jpg"/></li>
        <li><img src="img/5.jpg"/></li>
    </ul>
</div>

</body>
</html>
